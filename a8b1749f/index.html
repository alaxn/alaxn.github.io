<!doctype html>




<html class="theme-next mist" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="google-site-verification" content="QdMDJgvZZcco6n7CRss67Cx1JaCNVw8PTv9pYzwyCUU" />
<meta name="baidu-site-verification" content="E8TJxah4Qa" />

<link rel="canonical" href=" { { site.url } }{ { page.url } }" />




  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
    
  
  <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="MachineWorld,iOS,iPad," />








  <link rel="shortcut icon" type="image/x-icon" href="/source/favicon.ico?v=5.1.1" />






<meta name="description" content="原因是苹果关闭了该iOS版本的认证，就是不能刷该版本了。 故事来了： 今天试着给iPad更新，莫名其妙3194错误，还不能开机了，开机直接跳到恢复模式，最后险些DFU强制刷机~ 问题出现的一开始当然都是度娘，结果绝大多数解决方法都是提及修改host。 而Apple官方的解释也是类似的。  Error 3194, Error 17, or “This device isn’t eligible fo">
<meta name="keywords" content="MachineWorld,iOS,iPad">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS更新错误3194的一种原因">
<meta property="og:url" content="https://alaxn.tk/a8b1749f/index.html">
<meta property="og:site_name" content="It’s a blog">
<meta property="og:description" content="原因是苹果关闭了该iOS版本的认证，就是不能刷该版本了。 故事来了： 今天试着给iPad更新，莫名其妙3194错误，还不能开机了，开机直接跳到恢复模式，最后险些DFU强制刷机~ 问题出现的一开始当然都是度娘，结果绝大多数解决方法都是提及修改host。 而Apple官方的解释也是类似的。  Error 3194, Error 17, or “This device isn’t eligible fo">
<meta property="og:image" content="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/osx/hosts_file.png">
<meta property="og:updated_time" content="2017-07-22T15:13:33.426Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS更新错误3194的一种原因">
<meta name="twitter:description" content="原因是苹果关闭了该iOS版本的认证，就是不能刷该版本了。 故事来了： 今天试着给iPad更新，莫名其妙3194错误，还不能开机了，开机直接跳到恢复模式，最后险些DFU强制刷机~ 问题出现的一开始当然都是度娘，结果绝大多数解决方法都是提及修改host。 而Apple官方的解释也是类似的。  Error 3194, Error 17, or “This device isn’t eligible fo">
<meta name="twitter:image" content="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/osx/hosts_file.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":true},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: 'O49H6RAI92',
      apiKey: '07469e583c4ec55326ac84f3f9f311be',
      indexName: 'Newgithub',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://alaxn.tk/a8b1749f/"/>







  <title>iOS更新错误3194的一种原因 | It’s a blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ce3e5735953546583807184cd97aac0b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










</head>



<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">It’s a blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Alaxn的Blog</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-appinventor">
          <a href="/appinventor/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Appinventor
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://alaxn.tk/a8b1749f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Alaxn">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://orp61qolg.bkt.clouddn.com/0a2f3224fd3d2d00eb1f33c7d1790ab2.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="It’s a blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">iOS更新错误3194的一种原因</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-04-28T15:25:45+08:00">
                2015-04-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MachineWorld/" itemprop="url" rel="index">
                    <span itemprop="name">MachineWorld</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/a8b1749f/" class="leancloud_visitors" data-flag-title="iOS更新错误3194的一种原因">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        <p><strong>原因是苹果关闭了该iOS版本的认证，就是不能刷该版本了。</strong></p>
<p>故事来了：</p>
<p>今天试着给iPad更新，莫名其妙3194错误，还不能开机了，开机直接跳到恢复模式，最后险些DFU强制刷机~</p>
<p>问题出现的一开始当然都是度娘，结果绝大多数解决方法都是提及修改host。</p>
<p>而Apple官方的解释也是类似的。</p>
<blockquote>
<p>Error 3194, Error 17, or “This device isn’t eligible for the requested build”</p>
<p>If iTunes can’t communicate with the update server, you may see one of these messages.</p>
<ul>
<li>Error 17</li>
<li>Error 1639</li>
<li>Errors 3000-3020</li>
<li>Error 3194</li>
<li>Errors 3100-3999</li>
<li>This device isn’t eligible for the requested build<br>If you see one of these messages and need help updating or restoring your iOS device, <a href="http://support.apple.com/kb/HT5654" target="_blank" rel="external">install the latest version of iTunes</a> and try to update or restore again. If you need more help, follow these steps.</li>
</ul>
<h2 id="Check-your-hosts-file"><a href="#Check-your-hosts-file" class="headerlink" title="Check your hosts file"></a>Check your hosts file</h2><p>After you update iTunes to the latest version, check the hosts file to make sure your computer can contact the update server.</p>
<p>If you’re using a Windows computer, follow the steps in this <a href="http://support.microsoft.com/kb/972034" target="_blank" rel="external">Microsoft support article</a> (note that resetting the hosts file will affect software services that rely on hosts file redirects). If you’re using Windows on a business computer, consult your IT department to be sure applications will work correctly after you reset the hosts file.</p>
<p>If you’re using a Mac, follow these steps:</p>
<p><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/osx/hosts_file.png" alt=""></p>
<ol>
<li>In the Finder, choose Applications &gt; Utilities.</li>
<li>Open Terminal.</li>
<li>Enter this command and press Return:<br><em>sudo nano /private/etc/hosts</em></li>
<li>Enter the password you use to sign in to your computer and press Return. You won’t see text appear in the Terminal window when you enter the password. Make sure you use a <a href="http://support.apple.com/kb/HT4103" target="_blank" rel="external">nonblank administrator password</a>.</li>
<li>Terminal will display the hosts file.</li>
<li>Navigate using the arrow keys and look for an entry containing “gs.apple.com”.</li>
<li>Add the # symbol and a space (“# “) to the beginning of the gs.apple.com entry.</li>
<li>Press Control-O to save the file.</li>
<li>Press Enter when asked for the filename and Control-X to exit the editor.</li>
<li>Restart your computer.</li>
<li>Try to <a href="http://support.apple.com/kb/ht4623" target="_blank" rel="external">update</a> or <a href="http://support.apple.com/kb/ht1414" target="_blank" rel="external">restore</a> your iOS device again.<br>&nbsp;</li>
</ol>
<h2 id="Address-TCP-IP-filtering-firewall-or-security-software"><a href="#Address-TCP-IP-filtering-firewall-or-security-software" class="headerlink" title="Address TCP/IP filtering, firewall, or security software"></a>Address TCP/IP filtering, firewall, or security software</h2><p>If you have TCP/IP filtering, firewall, or security software installed on your computer, follow these steps.</p>
<ol>
<li>Follow <a href="http://support.apple.com/kb/TS3125" target="_blank" rel="external">these steps</a> to configure or temporarily uninstall your security software.</li>
<li><p>Bypass your Internet router. Some routers might block iTunes from accessing the update server. If you’re using a router that isn’t manufactured by Apple, try these steps.</p>
<ul>
<li>Disconnect from your wired or wireless router.</li>
<li>Use an Ethernet cable to connect directly to your modem.</li>
<li>Restart your computer and modem. Contact your Internet service provider for instructions on using your modem.</li>
<li>Be sure you have a working Internet connection by visiting <a href="http://www.apple.com/" target="_blank" rel="external">www.apple.com</a>. See <a href="http://support.apple.com/kb/HT1714" target="_blank" rel="external">these steps</a> for help or contact your Internet service provider.</li>
<li>If your Internet connection is working, try to <a href="http://support.apple.com/kb/ht4623" target="_blank" rel="external">update</a> or <a href="http://support.apple.com/kb/ht1414" target="_blank" rel="external">restore</a> your iOS device again.</li>
</ul>
</li>
</ol>
<h2 id="Restore-or-update-on-another-computer"><a href="#Restore-or-update-on-another-computer" class="headerlink" title="Restore or update on another computer"></a>Restore or update on another computer</h2><p>Try to restore or update on another computer with a different Internet connection. This will help rule out other issues on your computer that might stop iTunes from communicating with the update server.</p>
<p><br>Errors 1639, 3000-3020, and 3100-3999 (with the exception of 3194) are sometimes caused by your network settings. If your computer uses a managed network, refer to your network administrator. Proxies, firewalls, and other network security measures can cause these errors. If necessary, find a different network connection to restore the device. For example, if you’re restoring at work, try to restore at home or on a friend’s computer and network.</p>
</blockquote>
<p>这解释和操作着实让人汗颜， 但鉴于官方的权威性，我还是乖乖的试了一下。<br>结果还是不行，默默地3194又出现了几次。<br>再看看官方的解释：</p>
<blockquote>
<p>If iTunes can’t communicate with the update server, you may see one of these messages.</p>
</blockquote>
<p>可是想想，我的网络也还是OK的，苹果网站并没有被墙，且设备接入的时候都可以正常连接到服务器，不过是速度慢了些罢了。</p>
<p>于是推测会不会是苹果服务器不接受验证请求，故意把能够越狱的8.12给废了。<br>毕竟会选择8.12更新就是因为这个版本还可以越狱，8.13、8.2都还不能够。</p>
<p>试着网上搜索8.12关闭验证的信息，发现有个帖子（时间是2月份），内容是庆幸在关闭前一两天刷回了8.12，顺利越狱。<br>所以只好再下个8.2试试更新。</p>
<p>结果很顺利，不会出现3194。但是，要越狱还得折腾。之前也没有备份SHSH。 默默使用8.2~~</p>

      
    </div>

    <div>
      
        
<div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="http://orp61qolg.bkt.clouddn.com/alaxn%E5%85%AC%E4%BC%97%E5%8F%B72.jpg" alt="Alaxn wechat" style="width: 200px; max-width: 100%;"/>
    <div>随便看看，万一有你感兴趣的呢？</div>
</div>


      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>我知道是不会有人点的，但万一有人想不开呢？</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="http:////orp61qolg.bkt.clouddn.com/Wechatsmall.jpg" alt="Alaxn WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="http:////orp61qolg.bkt.clouddn.com/Alipaysmall.jpg" alt="Alaxn Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>


      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/MachineWorld/" rel="tag"><i class="fa fa-tag"></i> MachineWorld</a>
          
            <a href="/tags/iOS/" rel="tag"><i class="fa fa-tag"></i> iOS</a>
          
            <a href="/tags/iPad/" rel="tag"><i class="fa fa-tag"></i> iPad</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/ee5d1586/" rel="next" title="“耳目喉舌”与“报纸之用”之再讨论">
                <i class="fa fa-chevron-left"></i> “耳目喉舌”与“报纸之用”之再讨论
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/62f1ed55/" rel="prev" title="理性人，未必理性至上">
                理性人，未必理性至上 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="lv-container" data-id="city" data-uid="MTAyMC8yOTE3Ni81NzQz"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
		<a href="/" class="site-author-image" rel="start" style="border:none">
          <img class="site-author-image" itemprop="image"
               src="http://orp61qolg.bkt.clouddn.com/0a2f3224fd3d2d00eb1f33c7d1790ab2.jpg"
               alt="Alaxn" />
		</a>	   
          <p class="site-author-name" itemprop="name">Alaxn</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">94</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Check-your-hosts-file"><span class="nav-number">1.</span> <span class="nav-text">Check your hosts file</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Address-TCP-IP-filtering-firewall-or-security-software"><span class="nav-number">2.</span> <span class="nav-text">Address TCP/IP filtering, firewall, or security software</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Restore-or-update-on-another-computer"><span class="nav-number">3.</span> <span class="nav-text">Restore or update on another computer</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Alaxn</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    
    <span class="site-pv">
	
      <i class="fa fa-eye"></i>
	  <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      

    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="//cdn.bootcss.com/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.bootcss.com/jquery_lazyload/1.9.7/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.bootcss.com/velocity/1.3.1/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.bootcss.com/velocity/1.3.1/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  






  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.1"></script>



  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("1osYglps4ELvQBxuQay9rp2a-gzGzoHsz", "83UTg7m0g1jzmBBH2m0ANXht");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.1"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.1"></script>


  

</body>
</html>

<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
